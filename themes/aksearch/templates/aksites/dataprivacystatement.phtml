<?php

// Add blockadblock.js for detecting AdBlocker.
$this->headScript()->appendFile('vendor/blockadblock/blockadblock.js');

// Translated texts for javascript
$this->jsTranslations()->addStrings(
	array(
		'DataPrivacyStatementPiwikOptOutBtnText' => 'DataPrivacyStatementPiwikOptOutBtnText',
		'DataPrivacyStatementPiwikOptInBtnText' => 'DataPrivacyStatementPiwikOptInBtnText',
		'DataPrivacyStatementPiwikOptOutText' => 'DataPrivacyStatementPiwikOptOutText',
		'DataPrivacyStatementPiwikOptInText' => 'DataPrivacyStatementPiwikOptInText',
		'DataPrivacyStatementDeactivateAdBlocker' => 'DataPrivacyStatementDeactivateAdBlocker'
	)
);

echo '<h3>'.$this->transEsc('DataPrivacyStatement').'</h3>';
echo '<br />';

echo '<p>';
echo $this->transEsc('DataPrivacyStatementIntroText');
echo '<br /><br />';
echo '</p>';

echo '<p>';
echo '<h5>Serverlogs</h5>';
echo $this->transEsc('DataPrivacyStatementServerlogsText');
echo '<br /><br />';
echo '</p>';

echo '<p>';
echo '<h5>Cookies</h5>';
echo $this->transEsc('DataPrivacyStatementCookiesText');
echo '<br /><br />';
echo '</p>';

if ($this->showPiwikParagraph) {
	echo '<p>';
	echo '<h5>Piwik</h5>';
	echo $this->transEsc('DataPrivacyStatementPiwikText');
	
	$optOutButton = $this->piwikOptOut();
	if ($optOutButton != null && !empty($optOutButton)) {
		echo '<br /><br />';
		echo '<div>';
		echo $this->transEsc('DataPrivacyStatementPiwikOptOutDescription');
		echo '<br /><br />';
		echo $optOutButton;
		echo '<br /><br />';
		echo $this->transEsc('DataPrivacyStatementPiwikOptOutCookieDescription');
		echo '</div>';
	}
	echo '</p>';
}
?>
</p>